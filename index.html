<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ClientLedger — Luxury Leather</title>
    <meta name="description"
        content="ClientLedger — track client bills & payments. Modern responsive ledger for small businesses." />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase (Compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>
    <div class="root">
        <aside class="sidebar" aria-label="Sidebar" id="sidebar">
            <div class="sidebarTop">
                <div class="brand">
                    <div class="logo" aria-hidden="true">LL</div>
                    <div class="brandText">
                        <div class="title">Luxury Leather</div>
                    </div>
                </div>

                <button id="clientsToggle" class="btn ghost clientsToggle" aria-expanded="false"
                    aria-controls="clientsDrawer" title="Show clients">☰</button>
            </div>

            <form id="addClientForm" class="addClient" autocomplete="off">
                <input id="clientName" name="clientName" type="text" placeholder="New client name" required
                    maxlength="120" />
                <button class="btn primary" type="submit">Add</button>
            </form>

            <div id="clientsDrawer" class="clientsDrawer">
                <div class="clientsCard card" aria-live="polite">
                    <div class="cardHeaderSmall">Clients <span id="clientsCount" class="muted">0</span></div>
                    <ul id="clientsUl" class="clientsList" role="list"></ul>
                </div>
            </div>

            <div class="sidebarFooter muted">Developed by MORPHIX INTERNATIONAL</div>
        </aside>

        <main class="main" id="main" role="main">
            <div id="emptyState" class="emptyState card">
                <h2>Start tracking your clients</h2>
                <p>Create a client on the left then tap their name to add bill or payment records.</p>
            </div>

            <section id="clientCard" class="clientCard card cool" hidden>
                <header class="clientHeader">
                    <div>
                        <h1 id="clientTitle">Client Name</h1>
                        <div class="muted small">ID: <span id="clientIdShort"></span></div>
                    </div>

                    <div class="clientControls">
                        <div class="balanceWrap" aria-hidden="true">
                            <div class="balanceLabel">Balance</div>
                            <div id="clientBalance" class="balance">₹0</div>
                        </div>

                        <div class="actions" role="group" aria-label="Client actions">
                            <button class="btn outline" id="btnNewPurchase" type="button">+ Bill Amount</button>
                            <button class="btn outline" id="btnNewPayment" type="button">+ Payment Amount</button>
                            <button class="btn primary" id="btnDownloadCard" type="button">Download</button>
                        </div>
                    </div>
                </header>

                <div class="clientBody">
                    <div class="transactionsPanel">
                        <div class="txHeader">
                            <h3>Transactions</h3>
                        </div>
                        <div class="txTableWrap">
                            <!-- table for wide screens -->
                            <table id="txTable" role="table" aria-label="Transactions table">
                                <colgroup>
                                    <col style="width:18%">
                                    <col style="width:24%">
                                    <col style="width:18%">
                                    <col style="width:20%">
                                    <col style="width:10%">
                                    <col style="width:10%">
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th scope="col">Date</th>
                                        <th scope="col">Type</th>
                                        <th scope="col">Amount</th>
                                        <th scope="col">Balance</th>
                                        <th scope="col" aria-label="Edit">Edit</th>
                                        <th scope="col" aria-label="Delete">Delete</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>

                            <!-- mobile list (cards) — filled by JS on small screens -->
                            <div id="txCards" class="txCards" aria-hidden="true"></div>
                        </div>
                    </div>

                    <aside class="rightPanel" aria-label="Client summary">
                        <div class="card small quickStats">
                            <div class="stat">
                                <div class="label">Total Bill Amount</div>
                                <div id="statPurchases" class="value">₹0</div>
                            </div>
                            <div class="stat">
                                <div class="label">Total Payment Amount</div>
                                <div id="statPayments" class="value">₹0</div>
                            </div>
                        </div>
                    </aside>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal (mobile-friendly) -->
    <div id="modal" class="modal" aria-hidden="true">
        <div class="modalCard card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
            <button class="modalClose" id="modalClose" type="button" aria-label="Close modal">✕</button>
            <div id="modalBody"></div>
        </div>
    </div>

    <script src="firebase-config.js"></script>
    <script src="app.js"></script>
    <script src="login.js"></script>
</body>

</html>
